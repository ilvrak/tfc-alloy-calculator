<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bloomery Calculator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: left;
            margin: 20px;
        }
    </style>
    <script>
        function calculateBloomery() {
            const oreGranularity = parseInt(document.getElementById("ore_granularity").value);
            const maxUnits = 48;
            let bestOre = 0, bestCharcoal = 0;

            for (let ore = 1; ore <= maxUnits; ore++) {
                let oreMb = ore * oreGranularity;
                let charcoal = Math.round(oreMb / 144);
                if (ore + charcoal <= maxUnits) {
                    bestOre = ore;
                    bestCharcoal = charcoal;
                }
            }

            let moltenOutput = Math.floor((bestOre * oreGranularity) / 144);
            let totalFill = bestOre + bestCharcoal;
            
            let resultText = `Best configuration: ${bestOre} Ore, ${bestCharcoal} Charcoal, Total Fill: ${totalFill}, Iron Bloom Output: ${moltenOutput}`;
            document.getElementById("bloomery_result").innerText = resultText;
        }
    </script>
</head>
<body>
    <h1>Bloomery Calculator</h1>
    <label>Ore Granularity (mb per unit): 
        <input type="number" id="ore_granularity" value="16" min="1">
    </label>
    <br><br>
    <button onclick="calculateBloomery()">Calculate</button>
    <h2>Results:</h2>
    <div id="bloomery_result"></div>
</body>
</html>
